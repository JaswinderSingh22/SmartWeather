{"ast":null,"code":"import { createStore } from 'vuex';\nconst store = createStore({\n  state: {\n    searchResults: [],\n    selectedCity: null,\n    weatherData: null,\n    forecastData: [],\n    latitude: null,\n    longitude: null\n  },\n  mutations: {\n    updateSearchResults(state, results) {\n      state.searchResults = results;\n    },\n    selectCity(state, city) {\n      state.selectedCity = city;\n      state.weatherData = null; // Reset weather data when a new city is selected\n      state.forecastData = []; // Reset forecast data when a new city is selected\n    },\n\n    updateWeatherData(state, data) {\n      state.weatherData = data;\n    },\n    updateForecastData(state, data) {\n      state.forecastData = data;\n    }\n  },\n  actions: {\n    async fetchWeatherData({\n      commit,\n      state\n    }) {\n      if (state.selectedCity === null) {\n        return;\n      }\n      const apiKey = 'AIzaSyCOauRVg5VwBP52O13dnJS6lWn1_xineK8';\n      const apiUrl = `https://api.weatherapi.com/v1/current.json?key=${apiKey}&q=${state.selectedCity.name}`;\n      try {\n        const response = await fetch(apiUrl);\n        const data = await response.json();\n        if (data.error) {\n          console.error('Error fetching weather data:', data.error.message);\n          commit('updateWeatherData', null);\n        } else {\n          commit('updateWeatherData', data);\n        }\n      } catch (error) {\n        console.error('Error fetching weather data:', error);\n        commit('updateWeatherData', null);\n      }\n    },\n    async fetchForecastData({\n      commit,\n      state\n    }) {\n      if (state.selectedCity === null) {\n        return;\n      }\n      const apiKey = 'AIzaSyCOauRVg5VwBP52O13dnJS6lWn1_xineK8';\n      const apiUrl = `https://api.weatherapi.com/v1/forecast.json?key=${apiKey}&q=${state.selectedCity.name}&days=7`;\n      try {\n        const response = await fetch(apiUrl);\n        const data = await response.json();\n        if (data.error) {\n          console.error('Error fetching forecast data:', data.error.message);\n          commit('updateForecastData', []);\n        } else {\n          commit('updateForecastData', data.forecast.forecastday);\n        }\n      } catch (error) {\n        console.error('Error fetching forecast data:', error);\n        commit('updateForecastData', []);\n      }\n    }\n  }\n});\nexport default store;","map":{"version":3,"names":["createStore","store","state","searchResults","selectedCity","weatherData","forecastData","latitude","longitude","mutations","updateSearchResults","results","selectCity","city","updateWeatherData","data","updateForecastData","actions","fetchWeatherData","commit","apiKey","apiUrl","name","response","fetch","json","error","console","message","fetchForecastData","forecast","forecastday"],"sources":["/Users/turbanator/Documents/CODING/FRONT-END/weather-app/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex';\n\nconst store = createStore({\n  state: {\n    searchResults: [],\n    selectedCity: null,\n    weatherData: null,\n    forecastData: [],\n    latitude: null,\n    longitude: null,\n  },\n  mutations: {\n    updateSearchResults(state, results) {\n      state.searchResults = results;\n    },\n    selectCity(state, city) {\n      state.selectedCity = city;\n      state.weatherData = null; // Reset weather data when a new city is selected\n      state.forecastData = []; // Reset forecast data when a new city is selected\n    },\n    updateWeatherData(state, data) {\n      state.weatherData = data;\n    },\n    updateForecastData(state, data) {\n      state.forecastData = data;\n    },\n  },\n  actions: {\n    async fetchWeatherData({ commit, state }) {\n      if (state.selectedCity === null) {\n        return;\n      }\n\n      const apiKey = 'AIzaSyCOauRVg5VwBP52O13dnJS6lWn1_xineK8';\n      const apiUrl = `https://api.weatherapi.com/v1/current.json?key=${apiKey}&q=${state.selectedCity.name}`;\n\n      try {\n        const response = await fetch(apiUrl);\n        const data = await response.json();\n\n        if (data.error) {\n          console.error('Error fetching weather data:', data.error.message);\n          commit('updateWeatherData', null);\n        } else {\n          commit('updateWeatherData', data);\n        }\n      } catch (error) {\n        console.error('Error fetching weather data:', error);\n        commit('updateWeatherData', null);\n      }\n    },\n    async fetchForecastData({ commit, state }) {\n      if (state.selectedCity === null) {\n        return;\n      }\n\n      const apiKey = 'AIzaSyCOauRVg5VwBP52O13dnJS6lWn1_xineK8';\n      const apiUrl = `https://api.weatherapi.com/v1/forecast.json?key=${apiKey}&q=${state.selectedCity.name}&days=7`;\n\n      try {\n        const response = await fetch(apiUrl);\n        const data = await response.json();\n\n        if (data.error) {\n          console.error('Error fetching forecast data:', data.error.message);\n          commit('updateForecastData', []);\n        } else {\n          commit('updateForecastData', data.forecast.forecastday);\n        }\n      } catch (error) {\n        console.error('Error fetching forecast data:', error);\n        commit('updateForecastData', []);\n      }\n    },\n  },\n});\n\nexport default store;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}