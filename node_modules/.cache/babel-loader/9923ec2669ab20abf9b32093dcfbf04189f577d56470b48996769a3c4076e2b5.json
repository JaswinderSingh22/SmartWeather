{"ast":null,"code":"import { createStore } from 'vuex';\nconst store = createStore({\n  state: {\n    searchResults: [],\n    selectedCity: null,\n    weatherData: null,\n    forecastData: [],\n    latitude: null,\n    longitude: null\n  },\n  mutations: {\n    updateSearchResults(state, results) {\n      state.searchResults = results;\n    },\n    selectCity(state, city) {\n      state.selectedCity = city;\n      state.weatherData = null; // Reset weather data when a new city is selected\n      state.forecastData = []; // Reset forecast data when a new city is selected\n      state.latitude = null;\n      state.longitude = null;\n    },\n    updateWeatherData(state, data) {\n      state.weatherData = data;\n    },\n    updateForecastData(state, data) {\n      state.forecastData = data;\n    },\n    updateLatitude(state, latitude) {\n      state.latitude = latitude;\n    },\n    updateLongitude(state, longitude) {\n      state.longitude = longitude;\n    },\n    CLEAR_SEARCH_RESULTS(state) {\n      state.searchResults = [];\n    }\n  },\n  actions: {\n    async fetchResults() {\n      if (searchResults.value.trim() === '') {\n        results.value = [];\n        return;\n      }\n      const apiKey = 'AIzaSyCOauRVg5VwBP52O13dnJS6lWn1_xineK8';\n      const apiUrl = `https://maps.googleapis.com/maps/api/geocode/json?address=${searchQuery.value}&key=${apiKey}`;\n      try {\n        const response = await fetch(apiUrl);\n        const data = await response.json();\n        console.log(\"response11:\", data);\n        if (data.status === 'OK') {\n          results.value = data.results.map(result => {\n            console.log(\"results.value:\", result);\n            return {\n              id: result.place_id,\n              name: result.address_components[0].long_name,\n              country: result.address_components.find(component => component.types.includes('country')).long_name,\n              latitude: result.geometry.location.lat,\n              longitude: result.geometry.location.lng\n            };\n          });\n        } else {\n          results.value = [];\n          // clearSearchResults();\n        }\n      } catch (error) {\n        console.error('Error fetching search results:', error);\n        results.value = [];\n      }\n    },\n    async fetchWeatherData({\n      commit,\n      state\n    }) {\n      if (state.selectedCity === null || !state.selectedCity.latitude || !state.selectedCity.longitude) {\n        return;\n      }\n      const Weather_apiUrl = `https://api.openweathermap.org/data/2.5/onecall?lat=${state.selectedCity.latitude}&lon=${state.selectedCity.longitude}&exclude={part}&appid=7efa332cf48aeb9d2d391a51027f1a71&units=imperial`;\n      try {\n        const response = await fetch(Weather_apiUrl);\n        const data = await response.json();\n        console.log(\"latlog1:\", data);\n        if (data.error) {\n          console.error('Error fetching weather data:', data.error.message);\n          commit('updateWeatherData', null);\n        } else {\n          commit('updateWeatherData', data);\n        }\n      } catch (error) {\n        console.error('Error fetching weather data:', error);\n        commit('updateWeatherData', null);\n      }\n    },\n    async fetchForecastData({\n      commit,\n      state\n    }) {\n      if (state.selectedCity === null || !state.selectedCity.latitude || !state.selectedCity.longitude) {\n        return;\n      }\n\n      // const Weather_apiKey = '8b4d68187405f7ea371f47ffd0bce287';\n      const Weather_apiUrl = `https://api.openweathermap.org/data/2.5/onecall?lat=${state.selectedCity.latitude}&lon=${state.selectedCity.longitude}&exclude={part}&appid=7efa332cf48aeb9d2d391a51027f1a71&units=imperial`;\n      try {\n        const response = await fetch(Weather_apiUrl);\n        const data = await response.json();\n        console.log(\"latlog2:\", data);\n        if (data.error) {\n          console.error('Error fetching forecast data:', data.error.message);\n          commit('updateForecastData', []);\n        } else {\n          commit('updateForecastData', data.daily);\n        }\n      } catch (error) {\n        console.error('Error fetching forecast data:', error);\n        commit('updateForecastData', []);\n      }\n    }\n    // clearSearchResults({ commit }) {\n    //   commit('CLEAR_SEARCH_RESULTS');\n    // },\n  },\n\n  getters: {\n    getWeatherIcon: () => icon => {\n      console.log(\"icons:\", icon);\n      // Function logic to return the weather icon based on the icon code\n      // You can use the same logic as before\n\n      // Example implementation using Weather Icons from Google Fonts\n      if (icon === '01d') {\n        return 'wi wi-day-sunny';\n      } else if (icon === '01n') {\n        return 'wi wi-night-clear';\n      } else if (icon === '02d') {\n        return 'wi wi-day-cloudy';\n      } else if (icon === '02n') {\n        return 'wi wi-night-cloudy';\n      } else if (icon === '03d' || icon === '03n') {\n        return 'wi wi-cloud';\n      } else if (icon === '04d' || icon === '04n') {\n        return 'wi wi-cloudy';\n      } else if (icon === '09d' || icon === '09n') {\n        return 'wi wi-showers';\n      } else if (icon === '10d' || icon === '10n') {\n        return 'wi wi-rain';\n      } else if (icon === '11d' || icon === '11n') {\n        return 'wi wi-thunderstorm';\n      } else if (icon === '13d' || icon === '13n') {\n        return 'wi wi-snow';\n      } else if (icon === '50d' || icon === '50n') {\n        return 'wi wi-fog';\n      }\n      return 'wi wi-na';\n    }\n  }\n});\nexport default store;","map":{"version":3,"names":["createStore","store","state","searchResults","selectedCity","weatherData","forecastData","latitude","longitude","mutations","updateSearchResults","results","selectCity","city","updateWeatherData","data","updateForecastData","updateLatitude","updateLongitude","CLEAR_SEARCH_RESULTS","actions","fetchResults","value","trim","apiKey","apiUrl","searchQuery","response","fetch","json","console","log","status","map","result","id","place_id","name","address_components","long_name","country","find","component","types","includes","geometry","location","lat","lng","error","fetchWeatherData","commit","Weather_apiUrl","message","fetchForecastData","daily","getters","getWeatherIcon","icon"],"sources":["/Users/turbanator/Documents/CODING/SmartWeather/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex';\n\nconst store = createStore({\n  state: {\n    searchResults: [],\n    selectedCity: null,\n    weatherData: null,\n    forecastData: [],\n    latitude: null,\n    longitude: null,\n  },\n  mutations: {\n    updateSearchResults(state, results) {\n      state.searchResults = results;\n    },\n    selectCity(state, city) {\n      state.selectedCity = city;\n      state.weatherData = null; // Reset weather data when a new city is selected\n      state.forecastData = []; // Reset forecast data when a new city is selected\n      state.latitude = null;\n      state.longitude = null;\n    },\n    updateWeatherData(state, data) {\n      state.weatherData = data;\n    },\n    updateForecastData(state, data) {\n      state.forecastData = data;\n    },\n    updateLatitude(state, latitude) {\n      state.latitude = latitude;\n    },\n    updateLongitude(state, longitude) {\n      state.longitude = longitude;\n    },\n    CLEAR_SEARCH_RESULTS(state) {\n      state.searchResults = [];\n  },\n  },\n  actions: {\n\n    async fetchResults(){\n      if (searchResults.value.trim() === '') {\n        results.value = [];\n        return;\n      }\n      const apiKey = 'AIzaSyCOauRVg5VwBP52O13dnJS6lWn1_xineK8';\n      const apiUrl = `https://maps.googleapis.com/maps/api/geocode/json?address=${searchQuery.value}&key=${apiKey}`;\n\n      try {\n        const response = await fetch(apiUrl);\n        const data = await response.json();\n        console.log(\"response11:\", data);\n        if (data.status === 'OK') {\n          results.value = data.results.map((result) => {\n            console.log(\"results.value:\", result);\n            return {\n              id: result.place_id,\n              name: result.address_components[0].long_name,\n              country: result.address_components.find(\n                (component) => component.types.includes('country')\n                  ).long_name,\n              latitude: result.geometry.location.lat,\n              longitude: result.geometry.location.lng,\n            };\n          });\n\n        } else {\n          results.value = [];\n          // clearSearchResults();\n        }\n      }\n      catch (error) {\n        console.error('Error fetching search results:', error);\n        results.value = [];\n      }\n    },\n    \n    async fetchWeatherData({ commit, state }) {\n      if (state.selectedCity === null || !state.selectedCity.latitude || !state.selectedCity.longitude) {\n        return;\n      }\n\n      const Weather_apiUrl = `https://api.openweathermap.org/data/2.5/onecall?lat=${state.selectedCity.latitude}&lon=${state.selectedCity.longitude}&exclude={part}&appid=7efa332cf48aeb9d2d391a51027f1a71&units=imperial`;\n\n      try {\n        const response = await fetch(Weather_apiUrl);\n        const data = await response.json();\n        console.log(\"latlog1:\", data);\n        if (data.error) {\n          console.error('Error fetching weather data:', data.error.message);\n          commit('updateWeatherData', null);\n        } else {\n          commit('updateWeatherData', data);\n        }\n      } catch (error) {\n        console.error('Error fetching weather data:', error);\n        commit('updateWeatherData', null);\n      }\n    },\n    async fetchForecastData({ commit, state }) {\n      if (state.selectedCity === null || !state.selectedCity.latitude || !state.selectedCity.longitude) {\n        return;\n      }\n\n      // const Weather_apiKey = '8b4d68187405f7ea371f47ffd0bce287';\n      const Weather_apiUrl = `https://api.openweathermap.org/data/2.5/onecall?lat=${state.selectedCity.latitude}&lon=${state.selectedCity.longitude}&exclude={part}&appid=7efa332cf48aeb9d2d391a51027f1a71&units=imperial`;\n\n\n      try {\n        const response = await fetch(Weather_apiUrl);\n        const data = await response.json();\n        console.log(\"latlog2:\", data);\n\n        if (data.error) {\n          console.error('Error fetching forecast data:', data.error.message);\n          commit('updateForecastData', []);\n        } else {\n          commit('updateForecastData', data.daily);\n        }\n      } catch (error) {\n        console.error('Error fetching forecast data:', error);\n        commit('updateForecastData', []);\n      }\n    },\n    // clearSearchResults({ commit }) {\n    //   commit('CLEAR_SEARCH_RESULTS');\n    // },\n  },\n  getters:{\n    getWeatherIcon: () => (icon) => {\n      console.log(\"icons:\", icon);\n      // Function logic to return the weather icon based on the icon code\n      // You can use the same logic as before\n\n      // Example implementation using Weather Icons from Google Fonts\n      if (icon === '01d') {\n      return 'wi wi-day-sunny';\n    } else if (icon === '01n') {\n      return 'wi wi-night-clear';\n    } else if (icon === '02d') {\n      return 'wi wi-day-cloudy';\n    } else if (icon === '02n') {\n      return 'wi wi-night-cloudy';\n    } else if (icon === '03d' || icon === '03n') {\n      return 'wi wi-cloud';\n    } else if (icon === '04d' || icon === '04n') {\n      return 'wi wi-cloudy';\n    } else if (icon === '09d' || icon === '09n') {\n      return 'wi wi-showers';\n    } else if (icon === '10d' || icon === '10n') {\n      return 'wi wi-rain';\n    } else if (icon === '11d' || icon === '11n') {\n      return 'wi wi-thunderstorm';\n    } else if (icon === '13d' || icon === '13n') {\n      return 'wi wi-snow';\n    } else if (icon === '50d' || icon === '50n') {\n      return 'wi wi-fog';\n    }\n\n    return 'wi wi-na';\n    },\n  },\n});\n\nexport default store;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}